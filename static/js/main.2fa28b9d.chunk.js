(this["webpackJsonpbudget-tracker"]=this["webpackJsonpbudget-tracker"]||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),l=a.n(o),c=a(18),u=a(10),i=a(29),s=a.n(i),m=Object(n.createContext)(null),E=a(154),d=a(155),b=a(142),p=a(143),f=a(152),g=a(144),h=a(145),v=a(46),j=a.n(v),k=function(e){var t=e.open,a=e.onClose,o=Object(n.useContext)(m).setUser,l=Object(n.useState)(""),u=Object(c.a)(l,2),i=u[0],v=u[1],k=Object(n.useState)(""),O=Object(c.a)(k,2),y=O[0],F=O[1],C=function(){s.a.post("https://bmai53-budget-tracker-server.herokuapp.com/auth/login",{email:i,password:y}).then((function(e){a(),console.log(e.data),o(e.data.auth),localStorage.setItem("token",e.data.token),v(""),F("")}))};return Object(n.useEffect)((function(){var e=function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||!t||C()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[t,C]),r.a.createElement(E.a,{open:t||!1,onClose:a},r.a.createElement(d.a,null,"Login",r.a.createElement(b.a,{onClick:a,style:{position:"absolute",top:0,right:0}},r.a.createElement(j.a,null))),r.a.createElement(p.a,null,r.a.createElement(f.a,{autoFocus:!0,label:"Email",type:"email",fullWidth:!0,value:i,onChange:function(e){v(e.target.value)}}),r.a.createElement(f.a,{label:"Password",type:"password",fullWidth:!0,value:y,onChange:function(e){F(e.target.value)}}),r.a.createElement(g.a,null,r.a.createElement(h.a,{onClick:C,color:"primary"},"Login"))))},O=function(e){var t=e.open,a=e.onClose,o=Object(n.useState)(""),l=Object(c.a)(o,2),u=l[0],i=l[1],m=Object(n.useState)(""),v=Object(c.a)(m,2),k=v[0],O=v[1],y=Object(n.useState)(""),F=Object(c.a)(y,2),C=F[0],w=F[1],S=function(){k===C?s.a.post("https://bmai53-budget-tracker-server.herokuapp.com/auth/register",{email:u,password:k}).then((function(e){console.log(e),i(""),O(""),w("")})):alert("Password does not match")};return Object(n.useEffect)((function(){var e=function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||!t||S()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[t,S]),r.a.createElement(E.a,{open:t||!1,onClose:a},r.a.createElement(d.a,null,"Register",r.a.createElement(b.a,{onClick:a,style:{position:"absolute",top:0,right:0}},r.a.createElement(j.a,null))),r.a.createElement(p.a,null,r.a.createElement(f.a,{autoFocus:!0,label:"Email",type:"email",fullWidth:!0,value:u,onChange:function(e){i(e.target.value)}}),r.a.createElement(f.a,{label:"Password",type:"password",fullWidth:!0,value:k,onChange:function(e){O(e.target.value)}}),r.a.createElement(f.a,{label:"Password",type:"password",fullWidth:!0,value:C,onChange:function(e){w(e.target.value)}}),r.a.createElement(g.a,null,r.a.createElement(h.a,{onClick:S,color:"primary"},"Register"))))},y=a(31),F=a(148),C=a(149),w=a(150),S=a(146),x=a(22),L=a(147),U=function(){var e=Object(n.useContext)(m),t=e.user,a=e.setUser;return Object(n.useEffect)((function(){var e=localStorage.getItem("token");!t&&e&&s.a.get("https://bmai53-budget-tracker-server.herokuapp.com/auth/findUser",{headers:{Authorization:"JWT ".concat(e)}}).then((function(e){a(e.data.auth)}))}),[]),r.a.createElement(r.a.Fragment,null)},I=Object(S.a)((function(e){return{root:{flexGrow:1}}})),N=function(){var e=Object(n.useContext)(m),t=e.user,a=e.setUser,o=Object(n.useState)(!1),l=Object(c.a)(o,2),u=l[0],i=l[1],s=Object(n.useState)(!1),E=Object(c.a)(s,2),d=E[0],b=E[1],p=I(),f=Object(x.a)(),g=(Object(L.a)(f.breakpoints.up("sm")),t?[r.a.createElement(h.a,{color:"inherit",className:p.button,onClick:function(){a(null),localStorage.removeItem("token"),window.location.href="/"}},"Logout")]:[r.a.createElement(h.a,{color:"inherit",className:p.button,onClick:function(){i(!0)},key:"login"},"Login"),r.a.createElement(h.a,{color:"inherit",className:p.button,onClick:function(){b(!0)},key:"register"},"Register")]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,null),r.a.createElement(F.a,{position:"static",className:p.root},r.a.createElement(C.a,null,r.a.createElement(w.a,{container:!0,spacing:1,justify:"space-between"},r.a.createElement(w.a,{item:!0,xs:8},r.a.createElement(h.a,{color:"inherit",component:y.b,to:"/"},"Home"),r.a.createElement(h.a,{color:"inherit",component:y.b,to:"/dashboard"},"Dashboard")),r.a.createElement(w.a,{item:!0,xs:4,style:{textAlign:"right"}},g)))),r.a.createElement(k,{open:u,onClose:function(){return i(!1)}}),r.a.createElement(O,{open:d,onClose:function(){return b(!1)}}))},W=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null),r.a.createElement("h1",null,"Homepage"),r.a.createElement(k,null),r.a.createElement(O,null))},P=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null),r.a.createElement("h1",null,"Dashboard"))},A=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],o=t[1];return r.a.createElement(m.Provider,{value:{user:a,setUser:o}},r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",render:function(){return r.a.createElement(W,null)}}),r.a.createElement(u.b,{path:"/dashboard",render:function(){return r.a.createElement(P,null)}}),r.a.createElement(u.b,{render:function(){return r.a.createElement(u.a,{to:"/"})}})))},R=a(151),B=a(72),H=(a(109),Object(B.a)({palette:{primary:{main:"#35B234",contrastText:"#FFFFFF"},secondary:{main:"#FFFFFF"},positive:{main:"#4caf50"},negative:{main:"#f44336"},background:{default:"#FFFFFF"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}}));l.a.render(r.a.createElement(y.a,null,r.a.createElement(R.a,{theme:H},r.a.createElement(A,null))),document.getElementById("root"))},80:function(e,t,a){e.exports=a(110)}},[[80,1,2]]]);
//# sourceMappingURL=main.2fa28b9d.chunk.js.map